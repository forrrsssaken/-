## Режим работы

Большинство ОС поддерживают двухуровневую систему привилегий:
Режимы работы
- пользовательский режим (user mode).
- режим ядра (kerel mode);

- В режиме ядра выполняются все разрешенные инструкции, доступна вся оперативная память и любые регистры. На время выполнения кода ОС микропроцессор переходи в режим ядра (привилегированный).
  
- В пользовательском режиме доступ к регистрам и памяти ограничен. Приложению не будет позволено работать с памятью за пределами набора адресов, установленного ОС, или обращаться напрямую к регистру устройств.
  
- При таком подходе: легкость расширения системы, экономия ОП, возможность установленного ОС, или обращаться напрямую к регистрам устройств. защиты от несанкционированного доступа к критически важным ресурсам системы.


## Модульность архитектуры ОС

Под **архитектурой** ОС обычно понимают структурную организацию ОС на основе программных модулей. Каждый модуль (часть ОС) имеет законченное функциональное назначение с четко оговоренными правилами взаимодействия. Современные ОС представляют собой хорошо **структурированные модульные системы.**

Единой архитектуры ОС не существует, но существуют универсальные подходы к структурированию ОС. Наиболее общим подходом к структуризации ОС является подразделение модулей две группы
﻿- ﻿**ядро ОС** (модули, выполняющие основные функции ОС);
﻿﻿- **окружение** (модули, выполняющие вспомогательные функции ОС).

Архитектура ОС, основанная на привилегированном ядре и приложениях. пользовательского режима, является **классической** (применяется и в UNIX, и в
Windows).


## Модули ядра ОС

**Резидентные.** Выполняют базовые функции ОС:
﻿﻿- **управление процессами;**
﻿﻿- **управление памятью;**
﻿﻿- **управление устройствами ввода-вывода.**


### Функции, входящие в состав ядра можно разделить на два класса.
﻿
  - **1 класс.** Для решения внутрисистемных задач организации вычислительного процесса (переключение контекстов процессов, загрузка/выгрузка страниц, обработка прерываний). Эти функции недоступны для приложений.

﻿﻿- **2 класс.** Для поддержки приложений (доступны приложениям). Эти функции создают для приложений прикладную программную среду и образуют интерфейс прикладного программирования - АРІ. Приложения обращаются к ядру с запросами - системными вызовами. Функции АР| обслуживают системные вызовы - предоставляют доступ к ресурсам системы в удобной и компактной форме, без указания деталей их физического расположения.


## Вспомогательные модули ОС

**Транзитные.** Выполняют полезные, но менее обязательные функции; **архивации, дефрагментации** диска и т.п. Оформляются либо в виде **приложений**, либо в виде **библиотек** процедур и функций.

﻿- ﻿Обычно подразделяются на следующие группы:
  - **утилиты** - программы, решающие отдельные задачи управления и сопровождения ВС (сжатие, дефрагментация ...);
﻿﻿- **библиотеки процедур и функций** различного назначения (математических функций, функций ввода-вывода и т.д.);
- ﻿﻿**программы предоставления пользователю дополнительных услуг** - калькулятор, некоторые игры;﻿
- **системные обрабатывающие программы** - текстовые и графические редакторы, просмотрщики, компиляторы, компоновщики, отладчики.


### Взаимодействие между ядром и вспомогательными модулями ОС

![[Pasted image 20250911142704.png]]
Разделение ОС на ядро и модули-приложения обеспечивает лёгкую расширяемость ОС.


## Монолитное ядро
﻿﻿
- Для монолитной ОС (monolithic kernel) ядро совпадает со **всей системой**.
﻿﻿
﻿﻿- Сборка ядра, то есть его **компиляция**, осуществляется отдельно для каждого компьютера, на который устанавливается ОС. При этом можно выбрать список **оборудования и программных протоколов**, поддержка которых будет включена в ядро.
﻿
- Так как ядро является единой программой, **перекомпиляция** - это единственный способ добавить в него новые компоненты или исключить неиспользуемые.
﻿
- Присутствие в ядре лишних компонентов крайне нежелательно, так как ядро всегда полностью располагается в оперативной памяти. Кроме того, исключение ненужных компонентов повышает надежность операционной системы в целом.


## Микроядерная архитектура

- В микроядерной архитектуре (microkernel architecture) ОС большинство ее составляющих являются самостоятельными программами. В этом случае взаимодействие между ними обеспечивает специальный модуль ядра, называемый **микроядром**.
![[Pasted image 20250911143515.png]]
- **Высокая степень модульности и расширяемости, но накладные расходы связанные с передачей сообщений между ядром и окружением.**


## Гибридные системы

- Комбинации подходов, описанных выше, призванные уменьшить их недостатки и усилить достоинства.

- Ядро ОС Linux - монолитная система с элементами микроядерной архитектуры. При компиляции ядра можно разрешить динамическую загрузку и выгрузку очень многих компонентов ядра.
﻿﻿
﻿﻿- Ядро Windows - микроядерная архитектура со слишком большим (как монолитным) ядром, пример смешанной системы.

Статья о конфигурировании и компиляции ядра Linux
https://itproffi.ru/konfigurirovanie-i-kompilyatsiya-yadra-linux/



## Виды пользовательского интерфейса

- **текстовый интерфейс** (Text User Interface, TUI) - консольный, интерфейс командной строки
- **графический интерфейс** (Graphic User Interface, GUI) - управление системой посредством визуальных компонент (кнопок, иконок, графических меню и т.п.)
![[Pasted image 20250911144233.png]]
- Пример текстового интерфейса - интерпретатор командной строки Windows cmd.exe, пример графического интерфейса - файловый менеджер Проводник.

