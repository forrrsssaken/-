![[Pasted image 20251017092850.png]]
SP - 16-разрядный регистр, который указывает на адрес ячейки памяти, начиная с которой необходимо начать записывать или читать временную информацию.
По сути стек - специализированная область оперативной память.
В стеке записывается информация из регистров.
2 принципа записи в стековую память:
1. FIFO - первый зашел - первый вышел
2. LIFO - (принцип бутылки) используется принцип накопителя
Запись и считывание стеков памяти происходит последовательно - ячейка за ячейкой.
Чаще всего стековая память используется для хранения больших объемов данных.

Контроллер DMA/ПДП - контроллер прямого доступа к памяти. 
Процессор в большинстве случаев действует по одному и тому же алгоритму:
1. Чтение текущей команды в пользовательской программе.
2. Перемещение кода в регистр команд.
3. Дешифрация команды и выдача управляющих воздействий от УУ.
4. Чтение или запись операндов в соответствующей области памяти, либо выполнение действий над операндами внутри ЦП (лог/мат операции).
5. запись результатов выполнения операции, при это результат выполнения операции может сохраняться либо в аккумуляторе, либо в регистрах РОН, либо в оперативной памяти.
   Если происходит запись или чтение во внешнее устройство, то должно произойти явное обращение к этому устройству через контроллер DMA, при этом во время передачи большого массива данных, процессор отключается свои шины адрес и шины данных от внешних шин.

### Принцип DMA:
контроллер DMA может получать доступ к системной шине независимо от ЦП.
Последовательность:
1. ЦП программирует DMA, устанавливая его регистр.
2. Процессор дает команду для внешнего устройства, чтобы тот в свою очередь записал данные в свой буфер.
3. Контроллер DMA начинает работу, присылая устройству запрос на, допустим, чтение. При этом устройство не знает, от кого пришел запрос, либо от ЦП, либо от DMA.
4. На адресной шине уже содержится адрес, куда необходимо будет переслать данные из буферов.
5. Когда запись текущего слова окончена, устройство посылает сигнал подтверждения контроллеру DMA.
6. При этом контроллер DMA увеличивает адрес, но при этом уменьшает значение счетчика байтов.
7. После чего запрос на чтение повторяется до тех пор, пока счетчик байтов не станет равен нулю.
8. После выполнения процесса передачи данных, контроллер DMA инициализирует процессор на дальнейшую работу, разблокируя буфер адреса и буфер данных.

